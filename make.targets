# ------------------------------------------------------------------------------
# Folder paths
# ------------------------------------------------------------------------------

BUILD_ROOT_PATH := build

# ------------------------------------------------------------------------------
# Exports
# ------------------------------------------------------------------------------

export MKDIR
export RMDIR
export COPY
export BUILD_ROOT_PATH

# ------------------------------------------------------------------------------
# Reserved rules
# ------------------------------------------------------------------------------

.PHONY: all japan usa europe clean

# ------------------------------------------------------------------------------
# Compile for all regions
# ------------------------------------------------------------------------------

all:
	@$(MAKE) -f make.rules REGION=JAPAN
	@$(MAKE) -f make.rules REGION=USA
	@$(MAKE) -f make.rules REGION=EUROPE

# ------------------------------------------------------------------------------
# Compile for Japanese Sega CD
# ------------------------------------------------------------------------------

japan:
	@$(MAKE) -f make.rules REGION=JAPAN

# ------------------------------------------------------------------------------
# Compile for American Sega CD
# ------------------------------------------------------------------------------

usa:
	@$(MAKE) -f make.rules REGION=USA

# ------------------------------------------------------------------------------
# Compile for European Sega CD
# ------------------------------------------------------------------------------

europe:
	@$(MAKE) -f make.rules REGION=EUROPE

# ------------------------------------------------------------------------------
# Clean
# ------------------------------------------------------------------------------

clean:
ifneq ($(wildcard $(BUILD_ROOT_PATH)/),)
	@$(RMDIR) "$(BUILD_ROOT_PATH)"
endif

# ------------------------------------------------------------------------------