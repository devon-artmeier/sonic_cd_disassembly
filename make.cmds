# ------------------------------------------------------------------------------
# Null output
# ------------------------------------------------------------------------------

ifeq ($(OS),Windows_NT)
NULL := nul 2> nul
else
NULL := /dev/null
endif

# ------------------------------------------------------------------------------
# Make directory
# ------------------------------------------------------------------------------

define mkdir
	@sh -c 'mkdir -p "$(1)"' > $(NULL) || \
	        mkdir "$(subst /,\,$(1))"
endef

# ------------------------------------------------------------------------------
# Delete directory
# ------------------------------------------------------------------------------

define rmdir
	$(if $(wildcard $(1))!=, \
		@sh -c 'rm -rf "$(1)"' > $(NULL) || \
		        rmdir /s /q "$(subst /,\,$(1))")
endef

# ------------------------------------------------------------------------------
# Copy files
# ------------------------------------------------------------------------------

define copy
	@sh -c 'cp -a "$(subst *.*,.,$(1))" "$(2)"' > $(NULL) || \
	        copy /b /y /v "$(subst /,\,$(1))" "$(subst /,\,$(2))" > $(NULL)
endef

# ------------------------------------------------------------------------------